/*!
 * chartjs-plugin-zoom
 * http://chartjs.org/
 * Version: 0.6.3
 *
 * Copyright 2016 Evert Timberg
 * Released under the MIT license
 * https://github.com/chartjs/chartjs-plugin-zoom/blob/master/LICENSE.md
 */
!function o(e,t,n){function r(i,m){if(!t[i]){if(!e[i]){var s="function"==typeof require&&require;if(!m&&s)return s(i,!0);if(a)return a(i,!0);var l=new Error("Cannot find module '"+i+"'");throw l.code="MODULE_NOT_FOUND",l}var u=t[i]={exports:{}};e[i][0].call(u.exports,function(o){var t=e[i][1][o];return r(t?t:o)},u,u.exports,o,e,t,n)}return t[i].exports}for(var a="function"==typeof require&&require,i=0;i<n.length;i++)r(n[i]);return r}({1:[function(o,e,t){},{}],2:[function(o,e,t){function n(o,e){return void 0===o||"string"==typeof o&&o.indexOf(e)!==-1}function r(o,e){return function(t,n){if(t.scaleAxes&&t[o]&&!u.isNullOrUndef(t[o][t.scaleAxes])){var r=t[o][t.scaleAxes];"min"===e?n<r&&(n=r):"max"===e&&n>r&&(n=r)}return n}}function a(o,e,t,n){var r=o.options.ticks.max,a=v(n,o.getValueForPixel(e)),i=p(n,o.getValueForPixel(t)),m=i-a,s=z(n,m);i=a+s,i>r&&(a=r-s,i=r),o.options.ticks.min=a,o.options.ticks.max=i,"function"==typeof n.callback&&n.callback(a,i)}function i(o,e,t,n){var r=d[o.options.type];r&&r(o,e,t,n)}function m(o,e,t,r){var a=o.options.zoom;if(a&&u.getValueOrDefault(a.enabled,f.zoom.enabled)){var m,s=u.getValueOrDefault(o.options.zoom.mode,f.zoom.mode);m="xy"==s&&void 0!==r?r:"xy",u.each(o.scales,function(o,r){o.isHorizontal()&&n(s,"x")&&n(m,"x")?(a.scaleAxes="x",i(o,e,t,a)):!o.isHorizontal()&&n(s,"y")&&n(m,"y")&&(a.scaleAxes="y",i(o,e,t,a))}),o.update(0)}}function s(o){var e=o.scales;for(var t in e){var n=e[t];if(!n.isHorizontal())return n}}var l=o("chart.js");l="function"==typeof l?l:window.Chart,l.helpers.isNullOrUndef||(l.helpers.isNullOrUndef=function(o){return"undefined"==typeof o||null===o});var u=l.helpers,c=l.Zoom=l.Zoom||{},d=c.zoomFunctions=c.zoomFunctions||{},f=c.defaults={zoom:{enabled:!0,mode:"xy",sensitivity:3}},p=r("rangeMax","max"),v=r("rangeMin","min"),z=r("distanceMin","min");c.zoomFunctions.linear=a,c.zoomCumulativeDelta=0;var g={afterInit:function(o){u.each(o.scales,function(o){o.originalOptions=JSON.parse(JSON.stringify(o.options))}),o.resetZoom=function(){u.each(o.scales,function(o,e){var t=o.options.time,n=o.options.ticks;t&&(delete t.min,delete t.max),n&&(delete n.min,delete n.max),o.options=u.configMerge(o.options,o.originalOptions)}),u.each(o.data.datasets,function(o,e){o._meta=null}),o.update()}},beforeInit:function(o){o.zoom={};var e=o.zoom.node=o.chart.ctx.canvas,t=o.options;t.zoom&&t.zoom.enabled&&t.zoom.drag&&(t.zoom.mode="x",o.zoom._mouseDownHandler=function(e){o.zoom._dragZoomStart=e},e.addEventListener("mousedown",o.zoom._mouseDownHandler),o.zoom._mouseMoveHandler=function(e){o.zoom._dragZoomStart&&(o.zoom._dragZoomEnd=e,o.update(0))},e.addEventListener("mousemove",o.zoom._mouseMoveHandler),o.zoom._mouseUpHandler=function(e){if(o.zoom._dragZoomStart){var t=o.zoom._dragZoomStart,n=t.target.getBoundingClientRect().left,r=Math.min(t.clientX,e.clientX)-n,a=Math.max(t.clientX,e.clientX)-n,i=a-r;i>0&&m(o,r,a),o.zoom._dragZoomStart=null,o.zoom._dragZoomEnd=null}},e.addEventListener("mouseup",o.zoom._mouseUpHandler))},beforeDatasetsDraw:function(o){var e=o.chart.ctx,t=o.chartArea;if(e.save(),e.beginPath(),o.zoom._dragZoomEnd){var n=s(o),r=o.zoom._dragZoomStart,a=o.zoom._dragZoomEnd,i=r.target.getBoundingClientRect().left,m=Math.min(r.clientX,a.clientX)-i,l=Math.max(r.clientX,a.clientX)-i,u=l-m;e.fillStyle="rgba(225,225,225,0.3)",e.lineWidth=5,e.fillRect(m,n.top,u,n.bottom-n.top)}e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()},afterDatasetsDraw:function(o){o.chart.ctx.restore()},destroy:function(o){if(o.zoom){var e=o.options,t=o.zoom.node;e.zoom&&e.zoom.drag&&(t.removeEventListener("mousedown",o.zoom._mouseDownHandler),t.removeEventListener("mousemove",o.zoom._mouseMoveHandler),t.removeEventListener("mouseup",o.zoom._mouseUpHandler)),delete o.zoom;var n=o._mc;n&&(n.remove("pinchstart"),n.remove("pinch"),n.remove("pinchend"))}}};e.exports=g},{"chart.js":1}]},{},[2]);